<!--pages/shoppingMall/component/my/address/addressList/addressList.ttml-->
<view class="addressListContent">
    <view class="bottom">
      <!-- 地址列表 -->
      <view class="address-list" tt:if="{{addressList.length > 0}}">
        <view class="loading-box" tt:if="{{isLoading}}">
          <van-loading class="loading" size="35px" color="#0303fe" />
        </view>
        <block wx:else>
          <view class="flex" tt:for="{{addressList}}" tt:for-item="v" tt:key="k" >
            <view class="top-warp">
              <view class="top-box">
                <view class="left" >
                  <view class="title">{{v.consignee}}<text style="margin-left:28rpx;">{{v.telephone}}</text></view>
                  <view class="address-info">{{v.area}} - {{v.detailArea}}</view>
                </view>
                <view class="right">
                  <i class="el-icon-check" tt:if="{{v.defaultAddressStatus === 1}}"></i>
                  <view class="btn" tt:if="{{type != '' && type !== undefined}}" catchtap="onAddressUse" data-item="{{v}}">使用</view>
                  <!-- <view class="btn" v-else-if="$route.query.choose === 'choose'" >使用</view> -->
                </view>
              </view>
            </view>
            <view class="bottom-warp">
              <view class=" bottom-left {{v.defaultAddressStatus === 1 ? 'bottom-active' : ''}}" catchtap="onSetDefaultAddress" data-item="{{v}}">
                <view  tt:if="{{v.defaultAddressStatus === 1}}" class=" icon {{v.defaultAddressStatus === 1 ? 'icon-active' : ''}}"></view>
                <text style="margin-top: 3px;">{{v.defaultAddressStatus === 1 ? '已设为默认' : '设为默认'}}</text>
              </view>
              <view class="bottom-right">
                <view class="btn edit" catchtap="onEditClick" data-id="{{v.id}}"><i class="el-icon-edit-outline"></i> 编辑</view>
                <view class="btn del" catchtap="onDelClick" data-id="{{v.id}}"><i class="el-icon-delete"></i> 删除</view>
              </view>
            </view>
          </view>
          <!-- 加载更多 -->
          <!-- <view class="load-more" tt:if="addressList.length >= 10" catchtap="onLoadingClick">
            <view class="more-box">
              {{loadMoreTxt}}
              <i class="el-icon-arrow-right" v-show="!isMoreLoading"></i>
            </view>
          </view> -->
        </block>
      </view>
      <view class="addAddressContent">
        <button class="addAddress" bindtap="addAddress" style="width:80%;">新增地址</button>
      </view>
      <view class="showTip" tt:if="{{addressList.length > 0 &&  showNoMore}}" >暂无更多</view>
      <!-- 无数据 -->
      <view class="no-address" tt:if="{{addressList.length <= 0}}">
        <view class="no-box">
          <image src="/img/shoppingMall/mySvg/address.png" alt=""></image>
          <p style="width:400rpx;padding:20rpx;text-align:center;font-size:28rpx;">您还没有新增地址，快去添加吧！</p>
        </view>
      </view>
    </view>
</view>
